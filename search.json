[
  {
    "objectID": "web/localitats.html",
    "href": "web/localitats.html",
    "title": "Localitats",
    "section": "",
    "text": "Última actualització: Sat 08 Feb 2025 - 06:42:11",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Localitats"
    ]
  },
  {
    "objectID": "web/localitats.html#localitats-que-fan-dadmin_centre-de-relacions-de-municipis",
    "href": "web/localitats.html#localitats-que-fan-dadmin_centre-de-relacions-de-municipis",
    "title": "Localitats",
    "section": "Localitats que fan d’admin_centre de relacions de municipis",
    "text": "Localitats que fan d’admin_centre de relacions de municipis\nBD de referència\n\n\n\n\n\nosm_url\ncanvi\nname:ca\nname\nwikidata\nwikipedia\nplace\ncapital\nadmin_level\n\n\n\n\nhttps://osm.org/node/72994199\n+\nL'Alguer\nS'Aliguera/L'Alguer/Alghero\nQ166282\nca:L'Alguer\ntown\n8\n\n\n\nhttps://osm.org/node/72994199\n-\nl'Alguer\nl'Alguer/Alghero\nQ166282\nit:Alghero\ntown\n8\n\n\n\n\n\n\n\nConjunts de canvis\n\nhttps://osm.org/node/72994199\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n230\n158189552 (OSMcha)\n2024-10-21 22:17:57\naboc (OSMcha)\n21696131\nname:ca\nL'Alguer\nl'Alguer\n\n\n224\n157677777 (OSMcha)\n2024-10-09 15:29:21\ncontempttipoffcrease (OSMcha)\n22033076\nname\nS'aliguera/L'Alguer/Alghero\nl'Alguer/Alghero\n\n\n224\n157677777 (OSMcha)\n2024-10-09 15:29:21\ncontempttipoffcrease (OSMcha)\n22033076\nwikipedia\nsc:S'Alighèra\nit:Alghero",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Localitats"
    ]
  },
  {
    "objectID": "web/internacional.html",
    "href": "web/internacional.html",
    "title": "Internacional",
    "section": "",
    "text": "Última actualització: Sat 08 Feb 2025 - 06:40:16",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Internacional"
    ]
  },
  {
    "objectID": "web/internacional.html#estats",
    "href": "web/internacional.html#estats",
    "title": "Internacional",
    "section": "Estats",
    "text": "Estats\nRelacions amb admin_centre = 2 i boundary = administrative\nBD de referència\n\n\n\n\n\nosm_url\ncanvi\nname:ca\nname\nofficial_name\nofficial_name:ca\nalt_name\nalt_name:ca\nold_name\nold_name:ca\nold_official_name\nold_official_name:ca\nwikidata\n\n\n\n\nhttps://osm.org/relation/192800\n+\nEtiòpia\nኢትዮጵያ إثيوبيا\nየኢትዮጵያ ፌዴራላዊ ዴሞክራሲያዊ ሪፐብሊክ\nRepública Federal Democràtica d'Etiòpia\n\n\nAbyssinia\nAbissínia\n\n\nQ115\n\n\nhttps://osm.org/relation/192800\n-\nEtiòpia\nኢትዮጵያ\nየኢትዮጵያ ፌዴራላዊ ዴሞክራሲያዊ ሪፐብሊክ\nRepública Federal Democràtica d'Etiòpia\n\n\nAbyssinia\nAbissínia\n\n\nQ115\n\n\n\n\n\n\nConjunts de canvis\n\nhttps://osm.org/relation/192800\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n125\n160767321 (OSMcha)\n2024-12-29 20:45:43\nAhmed500000 (OSMcha)\n10163474\nname\nኢትዮጵያ إثيوبيا\nኢትዮጵያ",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Internacional"
    ]
  },
  {
    "objectID": "web/internacional.html#capitals-estatals",
    "href": "web/internacional.html#capitals-estatals",
    "title": "Internacional",
    "section": "Capitals estatals",
    "text": "Capitals estatals\nObjectes amb capital = 2 o capital = yes o role = admin_centre en relacions d’estats\nBD de referència\n\n\n\n\n\nosm_url\ncanvi\nname:ca\nname\nalt_name\nalt_name:ca\nint_name\nloc_name\nlong_name\nnat_name\nofficial_name\nofficial_name:ca\nold_name\nold_name:ca\nreg_name\nshort_name\nshortest_name\nadmin_level\nwikidata\n\n\n\n\nhttps://osm.org/node/1790048269\n+\nMònaco\nMonaco\n\n\nMonaco\n\n\n\n\nPrincipat de Mònaco\n\n\n\n\n\n2\nQ235\n\n\nhttps://osm.org/node/1790048269\n-\nMònaco\nMonaco\n\n\nMonaco\n\n\n\nPrincipatu de Múnegu\nPrincipat de Mònaco\n\n\n\n\n\n2\nQ235\n\n\nhttps://osm.org/node/240109189\n+\nBerlín\nBerlin\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQ64\n\n\nhttps://osm.org/node/240109189\n-\nBerlín\nBerlin\n\n\n\n\n\n\n\n\n\n\n\n\n\n2\nQ64\n\n\nhttps://osm.org/node/27565116\n+\nAntananarivo\nAntananarivo\n\n\n\nTana\n\n\n\n\nTananarive\n\n\n\n\n2\nQ3915\n\n\nhttps://osm.org/node/27565116\n-\nAntananarivo\nAntananarivo\n\n\n\nTana\n\n\n\n\nTananarive\n\n\n\n\n2\n\n\n\nhttps://osm.org/node/29023813\n+\n\nTórshavn\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQ10704\n\n\nhttps://osm.org/node/29023813\n-\n\nTórshavn\n\n\n\n\n\n\n\n\n\n\n\n\n\n2\nQ10704\n\n\nhttps://osm.org/node/305138115\n+\n\nTegucigalpa\n\n\n\n\n\n\n\n\n\n\n\n\n\n2\nQ609188\n\n\nhttps://osm.org/node/305138115\n-\n\nTegucigalpa\n\n\n\n\n\n\n\n\n\n\n\n\n\n2\nQ3238\n\n\nhttps://osm.org/node/34567423\n+\n\nBrasília\nRA I\n\n\nBSB\n\n\n\n\n\n\nRegião Administrativa Um\n\n\n8\nQ2844\n\n\nhttps://osm.org/node/34567423\n-\n\nBrasília\nRA I\n\n\nBSB\n\n\n\n\n\n\nRegião Administrativa Um\n\n\n2\nQ2844\n\n\n\n\n\n\nConjunts de canvis\n\nhttps://osm.org/node/1790048269\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n44\n155789444 (OSMcha)\n2024-08-26 15:43:43\nAlexis_gast33 (OSMcha)\n12932872\nofficial_name\nNA\nPrincipatu de Múnegu\n\n\n\n\n\n\nhttps://osm.org/node/240109189\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n169\n161405292 (OSMcha)\n2025-01-16 06:47:18\ngeozeisig (OSMcha)\n66391\nadmin_level\nNA\n2\n\n\n\nNo s’ha trobat cap versió en l’estat de referència per https://osm.org/node/27565116.\n\n\nhttps://osm.org/node/29023813\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n29\n160221801 (OSMcha)\n2024-12-12 20:01:57\njso67 (OSMcha)\n11386698\nadmin_level\nNA\n2\n\n\n\n\n\n\nhttps://osm.org/node/305138115\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n41\n160725576 (OSMcha)\n2024-12-28 18:30:16\nRSR2003 (OSMcha)\n15527329\nwikidata\nQ609188\nQ3238\n\n\n\n\n\n\nhttps://osm.org/node/34567423\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n103\n161425281 (OSMcha)\n2025-01-16 16:27:44\ncompass123 (OSMcha)\n22026478\nadmin_level\n8\n2",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Internacional"
    ]
  },
  {
    "objectID": "web/internacional.html#mars-i-oceans",
    "href": "web/internacional.html#mars-i-oceans",
    "title": "Internacional",
    "section": "Mars i oceans",
    "text": "Mars i oceans\nObjectes amb place = ocean o place = sea\nBD de referència\n\n\n\n\n\nosm_url\ncanvi\nname:ca\nname\nalt_name\nalt_name:ca\nplace\nwikidata\n\n\n\n\nhttps://osm.org/node/305639157\n+\nOceà Antàrtic\n\n\n\nocean\nQ7354\n\n\nhttps://osm.org/node/305639157\n-\nOceà Antàrtic\nSouthern Ocean\n\n\nocean\nQ7354\n\n\nhttps://osm.org/node/305639710\n+\nOceà Àrtic\n\n\n\nocean\nQ788\n\n\nhttps://osm.org/node/305639710\n-\nOceà Àrtic\nArctic Ocean\n\n\nocean\nQ788\n\n\nhttps://osm.org/node/305640005\n+\nOceà Pacífic\n\n\n\nocean\nQ98\n\n\nhttps://osm.org/node/305640005\n-\nOceà Pacífic\nPacific Ocean\n\n\nocean\nQ98\n\n\nhttps://osm.org/node/305640074\n+\nOceà Índic\n\n\n\nocean\nQ1239\n\n\nhttps://osm.org/node/305640074\n-\nOceà Índic\nIndian Ocean\n\n\nocean\nQ1239\n\n\nhttps://osm.org/node/305640306\n+\nOceà Atlàntic\n\n\n\nocean\nQ97\n\n\nhttps://osm.org/node/305640306\n-\nOceà Atlàntic\nAtlantic Ocean\n\n\nocean\nQ97\n\n\nhttps://osm.org/relation/9323456\n+\nMar Roig\nالبحر الأحمر\n\nMar Roja;Mar Vermella;Mar Vermell\nsea\nQ23406\n\n\nhttps://osm.org/relation/9323456\n-\nMar Roig\nMer Rouge / ቀይሕ ባሕሪ / البحر الأحمر\n\nMar Roja;Mar Vermella;Mar Vermell\nsea\nQ23406\n\n\nhttps://osm.org/relation/9326279\n+\nGolf d'Oman\nبحر عمان\n\n\nsea\nQ79948\n\n\nhttps://osm.org/relation/9326279\n-\nGolf d'Oman\nخلیج عمان\n\n\nsea\nQ79948\n\n\nhttps://osm.org/relation/9350128\n-\nMar Adriàtica\nJadransko more / Mare Adriatico / Deti Adriatik\n\nMar Adriàtic;Mar Hadriàtica;Mar Hadriàtic\nsea\nQ13924\n\n\nhttps://osm.org/relation/9483512\n+\nMar de Bohai\n渤海\n\n\nyes\nQ181969\n\n\nhttps://osm.org/relation/9483512\n-\nMar de Bohai\n渤海\n\n\nsea\nQ181969\n\n\nhttps://osm.org/way/1018455932\n+\n\nSoutheastern Limit of Labrador Sea\n\n\n\n\n\n\nhttps://osm.org/way/1018455932\n-\n\nSoutheastern Limit of Labrador Sea\n\n\nsea\n\n\n\n\n\n\n\nConjunts de canvis\n\nhttps://osm.org/node/305639157\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n45\n162203811 (OSMcha)\n2025-02-06 11:13:21\nrecrayon (OSMcha)\n20966637\nname\nNA\nSouthern Ocean\n\n\n\n\n\n\nhttps://osm.org/node/305639710\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n50\n162203686 (OSMcha)\n2025-02-06 11:10:39\nrecrayon (OSMcha)\n20966637\nname\nNA\nArctic Ocean\n\n\n\n\n\n\nhttps://osm.org/node/305640005\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n73\n162203550 (OSMcha)\n2025-02-06 11:07:29\nrecrayon (OSMcha)\n20966637\nname\nNA\nPacific Ocean\n\n\n\n\n\n\nhttps://osm.org/node/305640074\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n52\n162203750 (OSMcha)\n2025-02-06 11:12:07\nrecrayon (OSMcha)\n20966637\nname\nNA\nIndian Ocean\n\n\n\n\n\n\nhttps://osm.org/node/305640306\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n63\n162203483 (OSMcha)\n2025-02-06 11:06:02\nrecrayon (OSMcha)\n20966637\nname\nNA\nAtlantic Ocean\n\n\n\n\n\n\nhttps://osm.org/relation/9323456\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n367\n160569798 (OSMcha)\n2024-12-24 10:28:56\nAbdullah Abdulrhman (OSMcha)\n10478308\nname\nالبحر الأحمر\nMer Rouge / ቀይሕ ባሕሪ / البحر الأحمر\n\n\n\n\n\n\nhttps://osm.org/relation/9326279\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n36\n160549698 (OSMcha)\n2024-12-23 18:37:56\nSocks2 (OSMcha)\n11264669\nname\nبحر عمان\nخلیج عمان\n\n\n\nNo s’ha trobat cap versió en l’estat de referència per https://osm.org/relation/9350128.\n\n\nhttps://osm.org/relation/9483512\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n140\n155670778 (OSMcha)\n2024-08-23 20:08:23\nuser_21709701 (OSMcha)\n21709701\nplace\nyes\nsea\n\n\n\n\n\n\nhttps://osm.org/way/1018455932\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n4\n161094054 (OSMcha)\n2025-01-07 12:45:28\nmap per (OSMcha)\n11758604\nplace\nNA\nsea",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Internacional"
    ]
  },
  {
    "objectID": "README.html",
    "href": "README.html",
    "title": "monitorOSM ",
    "section": "",
    "text": "monitorOSM és un repositori que serveix per monitoritzar canvis a OpenStreetMap comparant els objectes amb bases de dades de referència.\nPodeu veure els informes que s’actualitzen diàriament a https://osm-catalan.github.io/monitorOSM. Els informes de canvis mostren taules amb l’estat de les etiquetes a OSM i a les bases de dades de referència:\n\n\n\n\n\nosm_url\ncanvi\nname:ca\nname\nwikipedia\n\n\n\n\nhttp://osm.org/node/XXXX\n+\nnom a OSM\nSense canvis\n\n\n\nhttp://osm.org/node/XXXX\n-\nnom de referència\nSense canvis\nca:Eliminat\n\n\n\n\n\nTambé es mostra quins conjunts de canvis han trencat les etiquetes amb enllaços per si es vol deixar comentaris.\n\n\nSi voleu afegir objectes amb les seves etiquetes a les bases de dades, podeu obrir un tiquet o podeu provar de fer un PR amb les instruccions que trobareu a aquí. Fora bo que els estats de referència dels objectes siguin consensuats amb la Comunitat d’OpenStreetmap en català.\n\n\n\nLa consulta, comparació amb bases de dades de referència i renderització de la web es fan amb un paquet d’R i accions de github. El paquet també inclou funcions per restaurar els objectes de manera ràpida, però com a projecte comunitari, és important intentar parlar amb els usuaris que discrepen de les bases de dades de referència. Vegeu la documentació del paquet d’R per més detalls.\n\n\nInstal·leu el paquet d’R:\n# install.packages(\"remotes\")\nremotes::install_github(\"OSM-Catalan/monitorOSM\")\n\n\n\nPer refrescar els informes localment i veure la web, podeu clonar el repositori i des d’R situat a la carpeta del projecte:\n# install.packages(\"quarto\")\nlibrary(quarto)\nquarto_render()\n\n\nRestauració de les etiquetes name i wikipedia de les comarques del País Valencià:\nlibrary(monitorOSM)\n\nid &lt;- modifica_etiquetes_osm(\n  comarques[comarques$regio == \"PV\", ],\n  claus = c(\"name\", \"wikipedia\"),\n  comentari = \"Restaura els noms de les comarques dels País Valencià\", hashtags = \"monitorOSM\"\n)\nRetorna l’identificador del conjunt de canvis."
  },
  {
    "objectID": "README.html#afegir-nous-objectes-a-les-bases-de-dades",
    "href": "README.html#afegir-nous-objectes-a-les-bases-de-dades",
    "title": "monitorOSM ",
    "section": "",
    "text": "Si voleu afegir objectes amb les seves etiquetes a les bases de dades, podeu obrir un tiquet o podeu provar de fer un PR amb les instruccions que trobareu a aquí. Fora bo que els estats de referència dels objectes siguin consensuats amb la Comunitat d’OpenStreetmap en català."
  },
  {
    "objectID": "README.html#paquet-dr",
    "href": "README.html#paquet-dr",
    "title": "monitorOSM ",
    "section": "",
    "text": "La consulta, comparació amb bases de dades de referència i renderització de la web es fan amb un paquet d’R i accions de github. El paquet també inclou funcions per restaurar els objectes de manera ràpida, però com a projecte comunitari, és important intentar parlar amb els usuaris que discrepen de les bases de dades de referència. Vegeu la documentació del paquet d’R per més detalls.\n\n\nInstal·leu el paquet d’R:\n# install.packages(\"remotes\")\nremotes::install_github(\"OSM-Catalan/monitorOSM\")\n\n\n\nPer refrescar els informes localment i veure la web, podeu clonar el repositori i des d’R situat a la carpeta del projecte:\n# install.packages(\"quarto\")\nlibrary(quarto)\nquarto_render()\n\n\nRestauració de les etiquetes name i wikipedia de les comarques del País Valencià:\nlibrary(monitorOSM)\n\nid &lt;- modifica_etiquetes_osm(\n  comarques[comarques$regio == \"PV\", ],\n  claus = c(\"name\", \"wikipedia\"),\n  comentari = \"Restaura els noms de les comarques dels País Valencià\", hashtags = \"monitorOSM\"\n)\nRetorna l’identificador del conjunt de canvis."
  },
  {
    "objectID": "data-raw/README.html",
    "href": "data-raw/README.html",
    "title": "Bases de dades de referència",
    "section": "",
    "text": "bd\nn_obj\nn_cols\ncolumnes\n\n\n\n\nPPCC\n1\n6\nname:ca , osm_id , osm_type , name , wikipedia, wikidata\n\n\nterritoris\n13\n7\nname:ca , regio , osm_id , osm_type , name , wikipedia, wikidata\n\n\ncomarques\n96\n9\nname:ca , regio , osm_id , osm_type , name , wikipedia , wikidata , admin_level , historic:admin_level\n\n\nmunicipis\n1699\n9\nname:ca , regio , comarca , osm_id , osm_type , name , wikipedia , wikidata , admin_level\n\n\nloc_admin_centre_municipis\n1674\n12\nregio , comarca , municipi , osm_type , osm_id , name:ca , name , wikidata , wikipedia , place , capital , admin_level\n\n\n\nTopònims dels PPCC\n\n\n\nbd\nn_obj\nn_cols\ncolumnes\n\n\n\n\nmars\n155\n8\nname:ca , name , osm_id , osm_type , alt_name , alt_name:ca, place , wikidata\n\n\nestats\n243\n17\nname:ca , name , osm_id , osm_type , alt_name , alt_name:ca , long_name , native_name , official_name , official_name:ca , old_name , old_name:ca , old_official_name , old_official_name:ca, short_name , short_name:ca , wikidata\n\n\ncapitals\n262\n26\nestat , name:ca , name , osm_id , osm_type , admin_level , alt_name , alt_name:ca , capital , capital:defacto , capital:executive , capital:judicial , capital:legislative, int_name , loc_name , long_name , nat_name , official_name , official_name:ca , old_name , old_name:ca , place , reg_name , short_name , shortest_name , wikidata\n\n\n\nExotopònims\nEn total es monitoritzen 4143 objectes d’OpenStreetMap.\nAbans de revertir canvis a OSM o comentar conjunts de canvis, comproveu les dades i, si cal, corregiu les bases de dades de referència.\n\n\nSi voleu afegir objectes amb les seves etiquetes a les bases de dades, podeu obrir un tiquet o un PR que inclogui la base de dades i el codi per generar els informes.\n\n\nCreeu una taula amb els estats de referència. Cal que cada fila contingui les etiquetes que vulgueu monitorar i els identificadors únics d’OpenStreetMap (osm_type i osm_id). Podeu generar les taules amb el paquet d’R osmdata.\nExemple per generar una taula amb les etiquetes name:ca, name, wikipedia i wikidata de tots els cims dels Països Catalans (relation(id:11747082)):\nlibrary(osmdata)\n#&gt; Data (c) OpenStreetMap contributors, ODbL 1.0. https://www.openstreetmap.org/copyright\n\ncims &lt;- opq(bbox = \"relation(id:11747082)\", out = \"tags\", timeout = \"100\") |&gt;\n  add_osm_feature(key = \"natural\", value = \"peak\") |&gt;\n  opq_csv(fields = c(\"name:ca\", \"::id\", \"::type\", \"name\", \"wikipedia\", \"wikidata\")) |&gt;\n  osmdata_data_frame()\n\nnames(cims) &lt;- gsub(\"^@\", \"osm_\", names(cims))\nhead(cims)\n#&gt;                    name:ca   osm_id osm_type                     name\n#&gt; 1           Puig de l'Ofre 26783257     node           Puig de l'Ofre\n#&gt; 2        Puig de Bassegoda 26862531     node        Puig de Bassegoda\n#&gt; 3           Cap de Boumort 26862611     node           Cap de Boumort\n#&gt; 4             Cap del Verd 26862659     node             Cap del Verd\n#&gt; 5       Pic de Comaloforno 26862732     node       Pic de Comaloforno\n#&gt; 6 Cap de la Gallina Pelada 26862904     node Cap de la Gallina Pelada\n#&gt;                     wikipedia  wikidata\n#&gt; 1           ca:Puig de l'Ofre  Q1652824\n#&gt; 2        ca:Puig de Bassegoda  Q4894784\n#&gt; 3           ca:Cap de Boumort  Q5034453\n#&gt; 4             ca:Cap del Verd  Q5034455\n#&gt; 5       ca:Pic de Comaloforno  Q2984642\n#&gt; 6 ca:Cap de la Gallina Pelada Q17482071\nÉs pràctic afegir la comarca i territori de cada objecte per poder fer les reversions amb conjunts de canvis més petits:\nlibrary(osmdata)\nlibrary(monitorOSM) # comarques\n#&gt; Dades sota llicència ODbL 1.0. (c) Col·laboradors d'OpenStreetMap https://www.openstreetmap.org/copyright\n\ncims_comarca &lt;- mapply(function(id, nom, territori) {\n  out &lt;- opq(bbox = paste0(\"relation(id:\", id, \")\"), out = \"tags\", timeout = \"100\") |&gt;\n    add_osm_feature(key = \"natural\", value = \"peak\") |&gt;\n    opq_csv(fields = c(\"name:ca\", \"::id\", \"::type\", \"name\", \"wikipedia\", \"wikidata\")) |&gt;\n    osmdata_data_frame()\n\n  if (nrow(out) &gt; 0) {\n    out$regio &lt;- territori\n    out$comarca &lt;- nom\n  }\n\n  return(out)\n}, id = comarques$osm_id, nom = comarques$`name:ca`, territori = comarques$regio, SIMPLIFY = FALSE)\n\ncims_comarques &lt;- do.call(rbind, cims_comarca)\nnames(cims_comarques) &lt;- gsub(\"^@\", \"osm_\", names(cims_comarques))\n\ncims_comarques &lt;- cims_comarques[!duplicated(cims_comarques[, c(\"osm_type\", \"osm_id\")]), ] # elimina objectes duplicats\nordre &lt;- order(cims_comarques$regio, cims_comarques$comarca, cims_comarques$`name:ca`)\nordre_columnes &lt;- c(\"name:ca\", \"regio\", \"comarca\", \"osm_id\", \"osm_type\", \"name\", \"wikipedia\", \"wikidata\")\ncims_comarques &lt;- unique(cims_comarques[ordre, ordre_columnes])\nrownames(cims_comarques) &lt;- NULL\n\nhead(cims_comarques)\n#&gt;         name:ca   regio          comarca     osm_id osm_type           name\n#&gt; 1          &lt;NA&gt; Andorra Andorra la Vella 1473165520     node     Pic Carroi\n#&gt; 2          &lt;NA&gt; Andorra Andorra la Vella 2188366026     node Pic de Coll Pa\n#&gt; 3          &lt;NA&gt; Andorra Andorra la Vella 3956298776     node           &lt;NA&gt;\n#&gt; 4          &lt;NA&gt; Andorra Andorra la Vella 9706258659     node Roc dels Corbs\n#&gt; 5          &lt;NA&gt; Andorra Andorra la Vella 9706258725     node Roc de Patapou\n#&gt; 6 Alt de Juclar Andorra          Canillo 3887374186     node  Alt de Juclar\n#&gt;          wikipedia  wikidata\n#&gt; 1             &lt;NA&gt; Q21329274\n#&gt; 2             &lt;NA&gt; Q21329357\n#&gt; 3             &lt;NA&gt;      &lt;NA&gt;\n#&gt; 4             &lt;NA&gt; Q21329430\n#&gt; 5             &lt;NA&gt;      &lt;NA&gt;\n#&gt; 6 ca:Alt de Juclar Q21329826\nUn cop tingueu la base de dades a punt, es pot afegir al paquet de manera que estigui disponible quan el carreguem:\nusethis::use_data(cims_comarques, overwrite = TRUE, compress = \"xz\")\nÉs recomanable preparar un fitxer per gestionar la nova base de dades i desar-la com a taula (exemple). També cal documentar la nova taula (exemple) i refrescar aquesta pàgina amb devtools::build_rmd(\"data-raw/README.Rmd\").\nPer començar a monitorar la nova base de dades cal crear o afegir-la a un fitxer com limits.qmd."
  },
  {
    "objectID": "data-raw/README.html#com-afegir-noves-bases-de-dades",
    "href": "data-raw/README.html#com-afegir-noves-bases-de-dades",
    "title": "Bases de dades de referència",
    "section": "",
    "text": "Si voleu afegir objectes amb les seves etiquetes a les bases de dades, podeu obrir un tiquet o un PR que inclogui la base de dades i el codi per generar els informes.\n\n\nCreeu una taula amb els estats de referència. Cal que cada fila contingui les etiquetes que vulgueu monitorar i els identificadors únics d’OpenStreetMap (osm_type i osm_id). Podeu generar les taules amb el paquet d’R osmdata.\nExemple per generar una taula amb les etiquetes name:ca, name, wikipedia i wikidata de tots els cims dels Països Catalans (relation(id:11747082)):\nlibrary(osmdata)\n#&gt; Data (c) OpenStreetMap contributors, ODbL 1.0. https://www.openstreetmap.org/copyright\n\ncims &lt;- opq(bbox = \"relation(id:11747082)\", out = \"tags\", timeout = \"100\") |&gt;\n  add_osm_feature(key = \"natural\", value = \"peak\") |&gt;\n  opq_csv(fields = c(\"name:ca\", \"::id\", \"::type\", \"name\", \"wikipedia\", \"wikidata\")) |&gt;\n  osmdata_data_frame()\n\nnames(cims) &lt;- gsub(\"^@\", \"osm_\", names(cims))\nhead(cims)\n#&gt;                    name:ca   osm_id osm_type                     name\n#&gt; 1           Puig de l'Ofre 26783257     node           Puig de l'Ofre\n#&gt; 2        Puig de Bassegoda 26862531     node        Puig de Bassegoda\n#&gt; 3           Cap de Boumort 26862611     node           Cap de Boumort\n#&gt; 4             Cap del Verd 26862659     node             Cap del Verd\n#&gt; 5       Pic de Comaloforno 26862732     node       Pic de Comaloforno\n#&gt; 6 Cap de la Gallina Pelada 26862904     node Cap de la Gallina Pelada\n#&gt;                     wikipedia  wikidata\n#&gt; 1           ca:Puig de l'Ofre  Q1652824\n#&gt; 2        ca:Puig de Bassegoda  Q4894784\n#&gt; 3           ca:Cap de Boumort  Q5034453\n#&gt; 4             ca:Cap del Verd  Q5034455\n#&gt; 5       ca:Pic de Comaloforno  Q2984642\n#&gt; 6 ca:Cap de la Gallina Pelada Q17482071\nÉs pràctic afegir la comarca i territori de cada objecte per poder fer les reversions amb conjunts de canvis més petits:\nlibrary(osmdata)\nlibrary(monitorOSM) # comarques\n#&gt; Dades sota llicència ODbL 1.0. (c) Col·laboradors d'OpenStreetMap https://www.openstreetmap.org/copyright\n\ncims_comarca &lt;- mapply(function(id, nom, territori) {\n  out &lt;- opq(bbox = paste0(\"relation(id:\", id, \")\"), out = \"tags\", timeout = \"100\") |&gt;\n    add_osm_feature(key = \"natural\", value = \"peak\") |&gt;\n    opq_csv(fields = c(\"name:ca\", \"::id\", \"::type\", \"name\", \"wikipedia\", \"wikidata\")) |&gt;\n    osmdata_data_frame()\n\n  if (nrow(out) &gt; 0) {\n    out$regio &lt;- territori\n    out$comarca &lt;- nom\n  }\n\n  return(out)\n}, id = comarques$osm_id, nom = comarques$`name:ca`, territori = comarques$regio, SIMPLIFY = FALSE)\n\ncims_comarques &lt;- do.call(rbind, cims_comarca)\nnames(cims_comarques) &lt;- gsub(\"^@\", \"osm_\", names(cims_comarques))\n\ncims_comarques &lt;- cims_comarques[!duplicated(cims_comarques[, c(\"osm_type\", \"osm_id\")]), ] # elimina objectes duplicats\nordre &lt;- order(cims_comarques$regio, cims_comarques$comarca, cims_comarques$`name:ca`)\nordre_columnes &lt;- c(\"name:ca\", \"regio\", \"comarca\", \"osm_id\", \"osm_type\", \"name\", \"wikipedia\", \"wikidata\")\ncims_comarques &lt;- unique(cims_comarques[ordre, ordre_columnes])\nrownames(cims_comarques) &lt;- NULL\n\nhead(cims_comarques)\n#&gt;         name:ca   regio          comarca     osm_id osm_type           name\n#&gt; 1          &lt;NA&gt; Andorra Andorra la Vella 1473165520     node     Pic Carroi\n#&gt; 2          &lt;NA&gt; Andorra Andorra la Vella 2188366026     node Pic de Coll Pa\n#&gt; 3          &lt;NA&gt; Andorra Andorra la Vella 3956298776     node           &lt;NA&gt;\n#&gt; 4          &lt;NA&gt; Andorra Andorra la Vella 9706258659     node Roc dels Corbs\n#&gt; 5          &lt;NA&gt; Andorra Andorra la Vella 9706258725     node Roc de Patapou\n#&gt; 6 Alt de Juclar Andorra          Canillo 3887374186     node  Alt de Juclar\n#&gt;          wikipedia  wikidata\n#&gt; 1             &lt;NA&gt; Q21329274\n#&gt; 2             &lt;NA&gt; Q21329357\n#&gt; 3             &lt;NA&gt;      &lt;NA&gt;\n#&gt; 4             &lt;NA&gt; Q21329430\n#&gt; 5             &lt;NA&gt;      &lt;NA&gt;\n#&gt; 6 ca:Alt de Juclar Q21329826\nUn cop tingueu la base de dades a punt, es pot afegir al paquet de manera que estigui disponible quan el carreguem:\nusethis::use_data(cims_comarques, overwrite = TRUE, compress = \"xz\")\nÉs recomanable preparar un fitxer per gestionar la nova base de dades i desar-la com a taula (exemple). També cal documentar la nova taula (exemple) i refrescar aquesta pàgina amb devtools::build_rmd(\"data-raw/README.Rmd\").\nPer començar a monitorar la nova base de dades cal crear o afegir-la a un fitxer com limits.qmd."
  },
  {
    "objectID": "web/limits.html",
    "href": "web/limits.html",
    "title": "Municipis, comarques i territoris",
    "section": "",
    "text": "Última actualització: Sat 08 Feb 2025 - 06:42:07",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  },
  {
    "objectID": "web/limits.html#països-catalans",
    "href": "web/limits.html#països-catalans",
    "title": "Municipis, comarques i territoris",
    "section": "Països Catalans",
    "text": "Països Catalans\nBD de referència\n\n\n🎉 Tot en ordre 🎉",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  },
  {
    "objectID": "web/limits.html#territoris",
    "href": "web/limits.html#territoris",
    "title": "Municipis, comarques i territoris",
    "section": "Territoris",
    "text": "Territoris\nBD de referència\n\n\n🎉 Tot en ordre 🎉",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  },
  {
    "objectID": "web/limits.html#comarques",
    "href": "web/limits.html#comarques",
    "title": "Municipis, comarques i territoris",
    "section": "Comarques",
    "text": "Comarques\nBD de referència\n\n\n🎉 Tot en ordre 🎉",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  },
  {
    "objectID": "web/limits.html#municipis",
    "href": "web/limits.html#municipis",
    "title": "Municipis, comarques i territoris",
    "section": "Municipis",
    "text": "Municipis\nBD de referència\n\n\n\n\n\nosm_url\ncanvi\nname:ca\nname\nwikipedia\nwikidata\nborder_type\nadmin_level\n\n\n\n\nhttps://osm.org/relation/40581\n+\nl'Alguer\nL'Alguer/Alghero\nca:L'Alguer\nQ166282\n\n8\n\n\nhttps://osm.org/relation/40581\n-\nl'Alguer\nl'Alguer/Alghero\nca:L'Alguer\nQ166282\n\n8\n\n\n\n\n\n\nConjunts de canvis\n\nhttps://osm.org/relation/40581\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n70\n158189552 (OSMcha)\n2024-10-21 22:17:57\naboc (OSMcha)\n21696131\nname\nL'Alguer/Alghero\nl'Alguer/Alghero",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  }
]