[
  {
    "objectID": "web/localitats.html",
    "href": "web/localitats.html",
    "title": "Localitats",
    "section": "",
    "text": "Última actualització: Mon 01 Apr 2024 - 02:07:30",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Localitats"
    ]
  },
  {
    "objectID": "web/localitats.html#localitats-que-fan-dadmin_centre-de-relacions-de-municipis",
    "href": "web/localitats.html#localitats-que-fan-dadmin_centre-de-relacions-de-municipis",
    "title": "Localitats",
    "section": "Localitats que fan d’admin_centre de relacions de municipis",
    "text": "Localitats que fan d’admin_centre de relacions de municipis\nBD de referència\n\n\n\n\n\n\nosm_url\ncanvi\nname:ca\nname\nwikidata\nwikipedia\nplace\ncapital\nadmin_level\n\n\n\n\nhttps://osm.org/node/1446993886\n+\nArenys de Lledó\nArens de Lledó\nQ642147\nes:Arenys de Lledó\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993886\n-\nArenys de Lledó\nArens de Lledó / Arenys de Lledó\nQ642147\nca:Arenys de Lledó\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993925\n+\nCalaceit\nCalaceite\nQ954175\nca:Calaceit\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993925\n-\nCalaceit\nCalaceite / Calaceit\nQ954175\nca:Calaceit\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993949\n+\nQueretes\nCretas\nQ1652414\nca:Queretes\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993949\n-\nQueretes\nCretas / Queretes\nQ1652414\nca:Queretes\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993972\n+\nFórnols\nFórnoles\nQ2409408\nes:Fórnoles\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993972\n-\nFórnols\nFórnoles / Fórnols\nQ2409408\nca:Fórnols de Matarranya\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993987\n+\nla Canyada de Beric\nLa Cañada de Verich\nQ1553963\nes:La Cañada de Verich\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993987\n-\nla Canyada de Beric\nLa Cañada de Verich / la Canyada de Beric\nQ1553963\nca:La Canyada de Beric\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993989\n+\nla Codonyera\nLa Codoñera\nQ1651558\nes:La Codoñera\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993989\n-\nla Codonyera\nLa Codoñera / la Codonyera\nQ1651558\nca:La Codonyera\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993991\n+\nla Freixneda\nLa Fresneda\nQ11116589\nes:La Fresneda\nvillage\n8\n\n\n\nhttps://osm.org/node/1446993991\n-\nla Freixneda\nLa Fresneda / la Freixneda\nQ24015119\nca:La Freixneda\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994030\n+\nLledó d'Algars\nLledó\nQ1644835\nes:Lledó\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994030\n-\nLledó d'Algars\nLledó / Lledó d'Algars\nQ1644835\nca:Lledó d'Algars\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994048\n+\nMassalió\nMazaleón\nQ1651159\nes:Mazaleón\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994048\n-\nMassalió\nMazaleón / Massalió\nQ1651159\nca:Massalió\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994146\n+\nla Torre del Comte\nTorre del Compte\nQ1641245\nes:Torre del Compte\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994146\n-\nla Torre del Comte\nTorre del Compte / la Torre del Comte\nQ1641245\nca:La Torre del Comte\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994155\n+\nla Torre de Vilella\nTorrevelilla\nQ1553894\nes:Torrevelilla\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994155\n-\nla Torre de Vilella\nTorrevelilla / Torre de Vilella\nQ1553894\nes:Torrevelilla\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994169\n+\nla Vall del Tormo\nValdeltormo\nQ1650770\nes:Valdeltormo\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994169\n-\nla Vall del Tormo\nValdeltormo / la Vall del Tormo\nQ1650770\nca:La Vall de Tormo\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994170\n+\nValljunquera\nValjunquera\nQ1651425\nes:Valjunquera\nvillage\n8\n\n\n\nhttps://osm.org/node/1446994170\n-\nValljunquera\nValjunquera / Valljunquera\nQ1651425\nca:Valljunquera\nvillage\n8\n\n\n\nhttps://osm.org/node/249330712\n+\nVall-de-roures\nValderrobres\nQ1641285\nes:Valderrobres\ntown\n7\n\n\n\nhttps://osm.org/node/249330712\n-\nVall-de-roures\nValderrobres / Vall de Roures\nQ1641285\nca:Vall-de-roures\ntown\n7\n\n\n\nhttps://osm.org/node/308302337\n+\nPena-roja de Tastavins\nPeñarroya de Tastavins / Pena-roja de Tastavins\nQ539588\nes:Peñarroya de Tastavins\nvillage\n8\n\n\n\nhttps://osm.org/node/308302337\n-\nPena-roja de Tastavins\nPeñarroya de Tastavins / Pena-roja de Tastavins\nQ539588\nca:Pena-roja\nvillage\n8\n\n\n\nhttps://osm.org/node/308302747\n+\nMontroig\nMonroyo\nQ1651239\nca:Mont-roig de Tastavins\nvillage\n8\n\n\n\nhttps://osm.org/node/308302747\n-\nMontroig\nMonroyo / Montroig\nQ1651239\nes:Monroyo\nvillage\n8\n\n\n\nhttps://osm.org/node/308302748\n+\nFontdespatla\nFuentespalda\nQ1653347\nes:Fuentespalda\nvillage\n8\n\n\n\nhttps://osm.org/node/308302748\n-\nFontdespatla\nFuentespalda / Fontdespatla\nQ1653347\nca:Fondespatla\nvillage\n8\n\n\n\nhttps://osm.org/node/308302749\n+\nRàfels\nRáfales\nQ1651261\nes:Ráfales\nvillage\n8\n\n\n\nhttps://osm.org/node/308302749\n-\nRàfels\nRàfels / Ráfales\nQ1651261\nca:Ràfels\nvillage\n8\n\n\n\nhttps://osm.org/node/308306630\n+\nAiguaviva de Bergantes\nAguaviva\nQ1770476\nes:Aguaviva (Teruel)\nvillage\n8\n\n\n\nhttps://osm.org/node/308306630\n-\nAiguaviva de Bergantes\nAguaviva / Aiguaviva de Bergantes\nQ1770476\nes:Aguaviva (Teruel)\nvillage\n8\n\n\n\nhttps://osm.org/node/479527976\n+\nBeseit\nBeceite\nQ525455\nes:Beceite\nvillage\n8\n\n\n\nhttps://osm.org/node/479527976\n-\nBeseit\nBeceite / Beseit\nQ525455\nca:Beseit\nvillage\n8\n\n\n\nhttps://osm.org/node/793210842\n+\nBellmunt de Mesquí\nBelmonte de San José\nQ1652468\nes:Belmonte de San José\nvillage\n8\n\n\n\nhttps://osm.org/node/793210842\n-\nBellmunt de Mesquí\nBelmonte de San José / Bellmunt de Mesquí\nQ1652468\nca:Bellmunt de Mesquí\nvillage\n8\n\n\n\n\n\n\n\n\nConjunts de canvis\n\n\nhttps://osm.org/node/1446993886\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n17\n149333170\n2024-03-29 22:50:15\npeyeh\n21225896\nname\nArens de Lledó\nArens de Lledó / Arenys de Lledó\n\n\n17\n149333170\n2024-03-29 22:50:15\npeyeh\n21225896\nwikipedia\nes:Arenys de Lledó\nca:Arenys de Lledó\n\n\n\n\nhttps://osm.org/node/1446993925\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n22\n149405940\n2024-03-31 19:45:37\npeyeh\n21225896\nname\nCalaceite\nCalaceite / Calaceit\n\n\n\n\nhttps://osm.org/node/1446993949\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n25\n149387038\n2024-03-31 12:00:08\npeyeh\n21225896\nname\nCretas\nCretas / Queretes\n\n\n\n\nhttps://osm.org/node/1446993972\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n68\n149332229\n2024-03-29 22:11:00\npeyeh\n21225896\nname\nFórnoles\nFórnoles / Fórnols\n\n\n68\n149332229\n2024-03-29 22:11:00\npeyeh\n21225896\nwikipedia\nes:Fórnoles\nca:Fórnols de Matarranya\n\n\n\n\nhttps://osm.org/node/1446993987\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n90\n149331585\n2024-03-29 21:46:21\npeyeh\n21225896\nname\nLa Cañada de Verich\nLa Cañada de Verich / la Canyada de Beric\n\n\n90\n149331585\n2024-03-29 21:46:21\npeyeh\n21225896\nwikipedia\nes:La Cañada de Verich\nca:La Canyada de Beric\n\n\n\n\nhttps://osm.org/node/1446993989\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n71\n149332038\n2024-03-29 22:03:28\npeyeh\n21225896\nname\nLa Codoñera\nLa Codoñera / la Codonyera\n\n\n71\n149332038\n2024-03-29 22:03:28\npeyeh\n21225896\nwikipedia\nes:La Codoñera\nca:La Codonyera\n\n\n\n\nhttps://osm.org/node/1446993991\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n43\n149333306\n2024-03-29 22:57:23\npeyeh\n21225896\nname\nLa Fresneda\nLa Fresneda / la Freixneda\n\n\n43\n149333306\n2024-03-29 22:57:23\npeyeh\n21225896\nwikidata\nQ11116589\nQ24015119\n\n\n43\n149333306\n2024-03-29 22:57:23\npeyeh\n21225896\nwikipedia\nes:La Fresneda\nca:La Freixneda\n\n\n\n\nhttps://osm.org/node/1446994030\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n15\n149333068\n2024-03-29 22:45:23\npeyeh\n21225896\nname\nLledó\nLledó / Lledó d'Algars\n\n\n15\n149333068\n2024-03-29 22:45:23\npeyeh\n21225896\nwikipedia\nes:Lledó\nca:Lledó d'Algars\n\n\n\n\nhttps://osm.org/node/1446994048\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n21\n149332886\n2024-03-29 22:37:27\npeyeh\n21225896\nname\nMazaleón\nMazaleón / Massalió\n\n\n21\n149332886\n2024-03-29 22:37:27\npeyeh\n21225896\nwikipedia\nes:Mazaleón\nca:Massalió\n\n\n\n\nhttps://osm.org/node/1446994146\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n41\n149384763\n2024-03-31 10:58:31\npeyeh\n21225896\nname\nTorre del Compte\nTorre del Compte / la Torre del Comte\n\n\n36\n149173686\n2024-03-26 12:00:04\nfranjaragon\n21241590\nwikipedia\nes:Torre del Compte\nca:La Torre del Comte\n\n\n\n\nhttps://osm.org/node/1446994155\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n60\n149331957\n2024-03-29 22:01:04\npeyeh\n21225896\nname\nTorrevelilla\nTorrevelilla / Torre de Vilella\n\n\n\n\nhttps://osm.org/node/1446994169\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n39\n149332537\n2024-03-29 22:20:43\npeyeh\n21225896\nname\nValdeltormo\nValdeltormo / la Vall del Tormo\n\n\n39\n149332537\n2024-03-29 22:20:43\npeyeh\n21225896\nwikipedia\nes:Valdeltormo\nca:La Vall de Tormo\n\n\n\n\nhttps://osm.org/node/1446994170\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n42\n149331859\n2024-03-29 21:56:46\npeyeh\n21225896\nname\nValjunquera\nValjunquera / Valljunquera\n\n\n42\n149331859\n2024-03-29 21:56:46\npeyeh\n21225896\nwikipedia\nes:Valjunquera\nca:Valljunquera\n\n\n\n\nhttps://osm.org/node/249330712\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n40\n149331681\n2024-03-29 21:50:11\npeyeh\n21225896\nname\nValderrobres\nValderrobres / Vall de Roures\n\n\n40\n149331681\n2024-03-29 21:50:11\npeyeh\n21225896\nwikipedia\nes:Valderrobres\nca:Vall-de-roures\n\n\n\n\nhttps://osm.org/node/308302337\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n28\n149333670\n2024-03-29 23:18:39\npeyeh\n21225896\nwikipedia\nes:Peñarroya de Tastavins\nca:Pena-roja\n\n\n\n\nhttps://osm.org/node/308302747\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n38\n149331523\n2024-03-29 21:44:29\npeyeh\n21225896\nname\nMonroyo\nMonroyo / Montroig\n\n\n37\n149260025\n2024-03-28 10:01:03\nyopaseopor\n500572\nwikipedia\nca:Mont-roig de Tastavins\nes:Monroyo\n\n\n\n\nhttps://osm.org/node/308302748\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n44\n149331436\n2024-03-29 21:40:30\npeyeh\n21225896\nname\nFuentespalda\nFuentespalda / Fontdespatla\n\n\n44\n149331436\n2024-03-29 21:40:30\npeyeh\n21225896\nwikipedia\nes:Fuentespalda\nca:Fondespatla\n\n\n\n\nhttps://osm.org/node/308302749\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n55\n149331333\n2024-03-29 21:37:00\npeyeh\n21225896\nwikipedia\nes:Ráfales\nca:Ràfels\n\n\n43\n149106713\n2024-03-24 21:25:52\npeyeh\n21225896\nname\nRàfels\nRàfels / Ráfales\n\n\n\n\nhttps://osm.org/node/308306630\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n102\n149330497\n2024-03-29 21:10:22\npeyeh\n21225896\nname\nAguaviva\nAguaviva / Aiguaviva de Bergantes\n\n\n\n\nhttps://osm.org/node/479527976\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n24\n149333412\n2024-03-29 23:04:58\npeyeh\n21225896\nname\nBeceite\nBeceite / Beseit\n\n\n24\n149333412\n2024-03-29 23:04:58\npeyeh\n21225896\nwikipedia\nes:Beceite\nca:Beseit\n\n\n\n\nhttps://osm.org/node/793210842\n\n\nversion\nchangeset\ntimestamp\nuser\nuid\nkey\nvalue\nref_value\n\n\n\n\n89\n149331024\n2024-03-29 21:26:42\npeyeh\n21225896\nname\nBelmonte de San José\nBelmonte de San José / Bellmunt de Mesquí\n\n\n89\n149331024\n2024-03-29 21:26:42\npeyeh\n21225896\nwikipedia\nes:Belmonte de San José\nca:Bellmunt de Mesquí",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Localitats"
    ]
  },
  {
    "objectID": "data-raw/README.html",
    "href": "data-raw/README.html",
    "title": "Bases de dades de referència",
    "section": "",
    "text": "bd\nn_obj\nn_cols\ncolumnes\n\n\n\n\ncomarques\n95\n9\nname:ca , regio , osm_id , osm_type , name , wikipedia , wikidata , admin_level , historic:admin_level\n\n\nmunicipis\n1671\n9\nname:ca , regio , comarca , osm_id , osm_type , name , wikipedia , wikidata , admin_level\n\n\nloc_admin_centre_municipis\n1673\n12\nregio , comarca , municipi , osm_type , osm_id , name:ca , name , wikidata , wikipedia , place , capital , admin_level\n\n\nterritoris\n10\n7\nname:ca , regio , osm_id , osm_type , name , wikipedia, wikidata\n\n\nPPCC\n1\n6\nname:ca , osm_id , osm_type , name , wikipedia, wikidata\n\n\n\nEn total es monitoritzen 3450 objectes d’OpenStreetMap.\nAbans de revertir canvis a OSM o comentar conjunts de canvis, comproveu les dades i, si cal, corregiu les bases de dades de referència.\n\n\nSi voleu afegir objectes amb les seves etiquetes a les bases de dades, podeu obrir un tiquet o un PR que inclogui la base de dades i el codi per generar els informes.\n\n\nCreeu una taula amb els estats de referència. Cal que cada fila contingui les etiquetes que vulgueu monitorar i els identificadors únics d’OpenStreetMap (osm_type i osm_id). Podeu generar les taules amb el paquet d’R osmdata.\nExemple per generar una taula amb les etiquetes name:ca, name, wikipedia i wikidata de tots els cims dels Països Catalans (relation(id:11747082)):\nlibrary(osmdata)\n#&gt; Data (c) OpenStreetMap contributors, ODbL 1.0. https://www.openstreetmap.org/copyright\n\ncims &lt;- opq(bbox = \"relation(id:11747082)\", out = \"tags\", timeout = \"100\") |&gt;\n  add_osm_feature(key = \"natural\", value = \"peak\") |&gt;\n  opq_csv(fields = c(\"name:ca\", \"::id\", \"::type\", \"name\", \"wikipedia\", \"wikidata\")) |&gt;\n  osmdata_data_frame()\n\nnames(cims) &lt;- gsub(\"^@\", \"osm_\", names(cims))\nhead(cims)\n#&gt;                    name:ca   osm_id osm_type                     name\n#&gt; 1           Puig de l'Ofre 26783257     node           Puig de l'Ofre\n#&gt; 2        Puig de Bassegoda 26862531     node        Puig de Bassegoda\n#&gt; 3           Cap de Boumort 26862611     node           Cap de Boumort\n#&gt; 4             Cap del Verd 26862659     node             Cap del Verd\n#&gt; 5       Pic de Comaloforno 26862732     node       Pic de Comaloforno\n#&gt; 6 Cap de la Gallina Pelada 26862904     node Cap de la Gallina Pelada\n#&gt;                     wikipedia  wikidata\n#&gt; 1           ca:Puig de l'Ofre  Q1652824\n#&gt; 2        ca:Puig de Bassegoda  Q4894784\n#&gt; 3           ca:Cap de Boumort  Q5034453\n#&gt; 4             ca:Cap del Verd  Q5034455\n#&gt; 5       ca:Pic de Comaloforno  Q2984642\n#&gt; 6 ca:Cap de la Gallina Pelada Q17482071\nÉs pràctic afegir la comarca i territori de cada objecte per poder fer les reversions amb conjunts de canvis més petits:\nlibrary(osmdata)\nlibrary(monitorOSM) # comarques\n#&gt; Dades sota llicència ODbL 1.0. (c) Col·laboradors d'OpenStreetMap https://www.openstreetmap.org/copyright\n\ncims_comarca &lt;- mapply(function(id, nom, territori) {\n  out &lt;- opq(bbox = paste0(\"relation(id:\", id, \")\"), out = \"tags\", timeout = \"100\") |&gt;\n    add_osm_feature(key = \"natural\", value = \"peak\") |&gt;\n    opq_csv(fields = c(\"name:ca\", \"::id\", \"::type\", \"name\", \"wikipedia\", \"wikidata\")) |&gt;\n    osmdata_data_frame()\n\n  if (nrow(out) &gt; 0) {\n    out$regio &lt;- territori\n    out$comarca &lt;- nom\n  }\n\n  return(out)\n}, id = comarques$osm_id, nom = comarques$`name:ca`, territori = comarques$regio, SIMPLIFY = FALSE)\n\ncims_comarques &lt;- do.call(rbind, cims_comarca)\nnames(cims_comarques) &lt;- gsub(\"^@\", \"osm_\", names(cims_comarques))\n\ncims_comarques &lt;- cims_comarques[!duplicated(cims_comarques[, c(\"osm_type\", \"osm_id\")]), ] # elimina objectes duplicats\nordre &lt;- order(cims_comarques$regio, cims_comarques$comarca, cims_comarques$`name:ca`)\nordre_columnes &lt;- c(\"name:ca\", \"regio\", \"comarca\", \"osm_id\", \"osm_type\", \"name\", \"wikipedia\", \"wikidata\")\ncims_comarques &lt;- unique(cims_comarques[ordre, ordre_columnes])\nrownames(cims_comarques) &lt;- NULL\n\nhead(cims_comarques)\n#&gt;   name:ca   regio          comarca     osm_id osm_type              name\n#&gt; 1    &lt;NA&gt; Andorra Andorra la Vella 1473165520     node        Pic Carroi\n#&gt; 2    &lt;NA&gt; Andorra Andorra la Vella 2188366026     node    Pic de Coll Pa\n#&gt; 3    &lt;NA&gt; Andorra Andorra la Vella 3956298776     node              &lt;NA&gt;\n#&gt; 4    &lt;NA&gt; Andorra Andorra la Vella 9127648546     node Pic de la Peguera\n#&gt; 5    &lt;NA&gt; Andorra Andorra la Vella 9706258659     node    Roc dels Corbs\n#&gt; 6    &lt;NA&gt; Andorra Andorra la Vella 9706258725     node    Roc de Patapou\n#&gt;   wikipedia  wikidata\n#&gt; 1      &lt;NA&gt; Q21329274\n#&gt; 2      &lt;NA&gt; Q21329357\n#&gt; 3      &lt;NA&gt;      &lt;NA&gt;\n#&gt; 4      &lt;NA&gt;      &lt;NA&gt;\n#&gt; 5      &lt;NA&gt; Q21329430\n#&gt; 6      &lt;NA&gt;      &lt;NA&gt;\nUn cop tingueu la base de dades a punt, es pot afegir al paquet de manera que estigui disponible quan el carreguem:\nusethis::use_data(cims_comarques, overwrite = TRUE, compress = \"xz\")\nÉs recomanable preparar un fitxer per gestionar la nova base de dades i desar-la com a taula (exemple). També cal documentar la nova taula (exemple).\nPer començar a monitorar la nova base de dades cal crear o afegir-la a un fitxer com limits.qmd."
  },
  {
    "objectID": "data-raw/README.html#com-afegir-noves-bases-de-dades",
    "href": "data-raw/README.html#com-afegir-noves-bases-de-dades",
    "title": "Bases de dades de referència",
    "section": "",
    "text": "Si voleu afegir objectes amb les seves etiquetes a les bases de dades, podeu obrir un tiquet o un PR que inclogui la base de dades i el codi per generar els informes.\n\n\nCreeu una taula amb els estats de referència. Cal que cada fila contingui les etiquetes que vulgueu monitorar i els identificadors únics d’OpenStreetMap (osm_type i osm_id). Podeu generar les taules amb el paquet d’R osmdata.\nExemple per generar una taula amb les etiquetes name:ca, name, wikipedia i wikidata de tots els cims dels Països Catalans (relation(id:11747082)):\nlibrary(osmdata)\n#&gt; Data (c) OpenStreetMap contributors, ODbL 1.0. https://www.openstreetmap.org/copyright\n\ncims &lt;- opq(bbox = \"relation(id:11747082)\", out = \"tags\", timeout = \"100\") |&gt;\n  add_osm_feature(key = \"natural\", value = \"peak\") |&gt;\n  opq_csv(fields = c(\"name:ca\", \"::id\", \"::type\", \"name\", \"wikipedia\", \"wikidata\")) |&gt;\n  osmdata_data_frame()\n\nnames(cims) &lt;- gsub(\"^@\", \"osm_\", names(cims))\nhead(cims)\n#&gt;                    name:ca   osm_id osm_type                     name\n#&gt; 1           Puig de l'Ofre 26783257     node           Puig de l'Ofre\n#&gt; 2        Puig de Bassegoda 26862531     node        Puig de Bassegoda\n#&gt; 3           Cap de Boumort 26862611     node           Cap de Boumort\n#&gt; 4             Cap del Verd 26862659     node             Cap del Verd\n#&gt; 5       Pic de Comaloforno 26862732     node       Pic de Comaloforno\n#&gt; 6 Cap de la Gallina Pelada 26862904     node Cap de la Gallina Pelada\n#&gt;                     wikipedia  wikidata\n#&gt; 1           ca:Puig de l'Ofre  Q1652824\n#&gt; 2        ca:Puig de Bassegoda  Q4894784\n#&gt; 3           ca:Cap de Boumort  Q5034453\n#&gt; 4             ca:Cap del Verd  Q5034455\n#&gt; 5       ca:Pic de Comaloforno  Q2984642\n#&gt; 6 ca:Cap de la Gallina Pelada Q17482071\nÉs pràctic afegir la comarca i territori de cada objecte per poder fer les reversions amb conjunts de canvis més petits:\nlibrary(osmdata)\nlibrary(monitorOSM) # comarques\n#&gt; Dades sota llicència ODbL 1.0. (c) Col·laboradors d'OpenStreetMap https://www.openstreetmap.org/copyright\n\ncims_comarca &lt;- mapply(function(id, nom, territori) {\n  out &lt;- opq(bbox = paste0(\"relation(id:\", id, \")\"), out = \"tags\", timeout = \"100\") |&gt;\n    add_osm_feature(key = \"natural\", value = \"peak\") |&gt;\n    opq_csv(fields = c(\"name:ca\", \"::id\", \"::type\", \"name\", \"wikipedia\", \"wikidata\")) |&gt;\n    osmdata_data_frame()\n\n  if (nrow(out) &gt; 0) {\n    out$regio &lt;- territori\n    out$comarca &lt;- nom\n  }\n\n  return(out)\n}, id = comarques$osm_id, nom = comarques$`name:ca`, territori = comarques$regio, SIMPLIFY = FALSE)\n\ncims_comarques &lt;- do.call(rbind, cims_comarca)\nnames(cims_comarques) &lt;- gsub(\"^@\", \"osm_\", names(cims_comarques))\n\ncims_comarques &lt;- cims_comarques[!duplicated(cims_comarques[, c(\"osm_type\", \"osm_id\")]), ] # elimina objectes duplicats\nordre &lt;- order(cims_comarques$regio, cims_comarques$comarca, cims_comarques$`name:ca`)\nordre_columnes &lt;- c(\"name:ca\", \"regio\", \"comarca\", \"osm_id\", \"osm_type\", \"name\", \"wikipedia\", \"wikidata\")\ncims_comarques &lt;- unique(cims_comarques[ordre, ordre_columnes])\nrownames(cims_comarques) &lt;- NULL\n\nhead(cims_comarques)\n#&gt;   name:ca   regio          comarca     osm_id osm_type              name\n#&gt; 1    &lt;NA&gt; Andorra Andorra la Vella 1473165520     node        Pic Carroi\n#&gt; 2    &lt;NA&gt; Andorra Andorra la Vella 2188366026     node    Pic de Coll Pa\n#&gt; 3    &lt;NA&gt; Andorra Andorra la Vella 3956298776     node              &lt;NA&gt;\n#&gt; 4    &lt;NA&gt; Andorra Andorra la Vella 9127648546     node Pic de la Peguera\n#&gt; 5    &lt;NA&gt; Andorra Andorra la Vella 9706258659     node    Roc dels Corbs\n#&gt; 6    &lt;NA&gt; Andorra Andorra la Vella 9706258725     node    Roc de Patapou\n#&gt;   wikipedia  wikidata\n#&gt; 1      &lt;NA&gt; Q21329274\n#&gt; 2      &lt;NA&gt; Q21329357\n#&gt; 3      &lt;NA&gt;      &lt;NA&gt;\n#&gt; 4      &lt;NA&gt;      &lt;NA&gt;\n#&gt; 5      &lt;NA&gt; Q21329430\n#&gt; 6      &lt;NA&gt;      &lt;NA&gt;\nUn cop tingueu la base de dades a punt, es pot afegir al paquet de manera que estigui disponible quan el carreguem:\nusethis::use_data(cims_comarques, overwrite = TRUE, compress = \"xz\")\nÉs recomanable preparar un fitxer per gestionar la nova base de dades i desar-la com a taula (exemple). També cal documentar la nova taula (exemple).\nPer començar a monitorar la nova base de dades cal crear o afegir-la a un fitxer com limits.qmd."
  },
  {
    "objectID": "README.html",
    "href": "README.html",
    "title": "monitorOSM ",
    "section": "",
    "text": "monitorOSM és un repositori que serveix per monitoritzar canvis a OpenStreetMap comparant els objectes amb bases de dades de referència.\nPodeu veure els informes que s’actualitzen diàriament a https://osm-catalan.github.io/monitorOSM. Els informes de canvis mostren taules amb l’estat de les etiquetes a OSM i a les bases de dades de referència:\n\n\n\n\n\n\nosm_url\ncanvi\nname:ca\nname\nwikipedia\n\n\n\n\nhttp://osm.org/node/XXXX\n+\nnom a OSM\nSense canvis\n\n\n\nhttp://osm.org/node/XXXX\n-\nnom de referència\nSense canvis\nca:Eliminat\n\n\n\n\n\n\nTambé es mostra quins conjunts de canvis han trencat les etiquetes amb enllaços per si es vol deixar comentaris.\n\n\nSi voleu afegir objectes amb les seves etiquetes a les bases de dades, podeu obrir un tiquet o podeu provar de fer un PR amb les instruccions que trobareu a aquí. Fora bo que els estats de referència dels objectes siguin consensuats amb la Comunitat d’OpenStreetmap en català.\n\n\n\nLa consulta, comparació amb bases de dades de referència i renderització de la web es fan amb un paquet d’R i accions de github. El paquet també inclou funcions per restaurar els objectes de manera ràpida, però com a projecte comunitari, és important intentar parlar amb els usuaris que discrepen de les bases de dades de referència. Vegeu la documentació del paquet d’R per més detalls.\n\n\nInstal·leu el paquet d’R:\n# install.packages(\"remotes\")\nremotes::install_github(\"OSM-Catalan/monitorOSM\")\nRestauració de les etiquetes name i wikipedia de les comarques del País Valencià:\nlibrary(monitorOSM)\n\nid &lt;- modifica_etiquetes_osm(\n  comarques[comarques$regio == \"PV\", ],\n  claus = c(\"name\", \"wikipedia\"),\n  comentari = \"Restaura els noms de les comarques dels País Valencià\", hashtags = \"monitorOSM\"\n)\nRetorna l’identificador del conjunt de canvis."
  },
  {
    "objectID": "README.html#afegir-nous-objectes-a-les-bases-de-dades",
    "href": "README.html#afegir-nous-objectes-a-les-bases-de-dades",
    "title": "monitorOSM ",
    "section": "",
    "text": "Si voleu afegir objectes amb les seves etiquetes a les bases de dades, podeu obrir un tiquet o podeu provar de fer un PR amb les instruccions que trobareu a aquí. Fora bo que els estats de referència dels objectes siguin consensuats amb la Comunitat d’OpenStreetmap en català."
  },
  {
    "objectID": "README.html#paquet-dr",
    "href": "README.html#paquet-dr",
    "title": "monitorOSM ",
    "section": "",
    "text": "La consulta, comparació amb bases de dades de referència i renderització de la web es fan amb un paquet d’R i accions de github. El paquet també inclou funcions per restaurar els objectes de manera ràpida, però com a projecte comunitari, és important intentar parlar amb els usuaris que discrepen de les bases de dades de referència. Vegeu la documentació del paquet d’R per més detalls.\n\n\nInstal·leu el paquet d’R:\n# install.packages(\"remotes\")\nremotes::install_github(\"OSM-Catalan/monitorOSM\")\nRestauració de les etiquetes name i wikipedia de les comarques del País Valencià:\nlibrary(monitorOSM)\n\nid &lt;- modifica_etiquetes_osm(\n  comarques[comarques$regio == \"PV\", ],\n  claus = c(\"name\", \"wikipedia\"),\n  comentari = \"Restaura els noms de les comarques dels País Valencià\", hashtags = \"monitorOSM\"\n)\nRetorna l’identificador del conjunt de canvis."
  },
  {
    "objectID": "web/limits.html",
    "href": "web/limits.html",
    "title": "Municipis, comarques i territoris",
    "section": "",
    "text": "Última actualització: Mon 01 Apr 2024 - 02:07:23",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  },
  {
    "objectID": "web/limits.html#països-catalans",
    "href": "web/limits.html#països-catalans",
    "title": "Municipis, comarques i territoris",
    "section": "Països Catalans",
    "text": "Països Catalans\nBD de referència\n\n\n🎉 Tot en ordre 🎉",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  },
  {
    "objectID": "web/limits.html#territoris",
    "href": "web/limits.html#territoris",
    "title": "Municipis, comarques i territoris",
    "section": "Territoris",
    "text": "Territoris\nBD de referència\n\n\n🎉 Tot en ordre 🎉",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  },
  {
    "objectID": "web/limits.html#comarques",
    "href": "web/limits.html#comarques",
    "title": "Municipis, comarques i territoris",
    "section": "Comarques",
    "text": "Comarques\nBD de referència\n\n\n🎉 Tot en ordre 🎉",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  },
  {
    "objectID": "web/limits.html#municipis",
    "href": "web/limits.html#municipis",
    "title": "Municipis, comarques i territoris",
    "section": "Municipis",
    "text": "Municipis\nBD de referència\n\n\n🎉 Tot en ordre 🎉",
    "crumbs": [
      "Bases de dades de referència",
      "Control de canvis",
      "Municipis, comarques i territoris"
    ]
  }
]